{"filter":false,"title":"composite-chart.js","tooltip":"/composite-chart.js","undoManager":{"mark":2,"position":2,"stack":[[{"start":{"row":0,"column":0},"end":{"row":68,"column":0},"action":"insert","lines":["","    <script>","        queue()","            .defer(d3.json, \"data/transactions.json\") //accessing the data in another file","            .await(makeGraphs); //pushing the data into fuction makeGraphs","","        function makeGraphs(error, transactionsData) {","            var ndx = crossfilter(transactionsData);","","            var parseDate = d3.time.format(\"%d/%m/%Y\").parse; /* formating date into somting that d3 understands */","            transactionsData.forEach(function(d) {","                d.date = parseDate(d.date);","            });","","            var date_dim = ndx.dimension(dc.pluck('date')); /* taking the date and adding it into date_dim */","            // var total_spend_per_date = date_dim.group().reduceSum(dc.pluck(\"spend\"));","","","            var minDate = date_dim.bottom(1)[0].date; /* geting the first date */","            var maxDate = date_dim.top(1)[0].date; /* geting the last date */","","        function spend_by_name(name) {","            return function(d) {","                if (d.name === name) {","                    return +d.spend;","                } else {","                    return 0;","                }","            }","        }","","","","            var tomSpendByMonth = date_dim.group().reduceSum(spend_by_name(\"Tom\"));","","            var bobSpendByMonth = date_dim.group().reduceSum(spend_by_name(\"Bob\"));","","            var aliceSpendByMonth = date_dim.group().reduceSum(spend_by_name(\"Alice\"));","","","            var compositeChart = dc.compositeChart('#composite-chart');","            ","            compositeChart","                .width(990)","                .height(200)","                .dimension(date_dim)","                .x(d3.time.scale().domain([minDate, maxDate]))","                .yAxisLabel(\"Spend\") /* just adding a label */","                .legend(dc.legend().x(80).y(20).itemHeight(13).gap(5))","                .renderHorizontalGridLines(true)","                .compose([","                    dc.lineChart(compositeChart)","                    .colors('green')","                    .group(tomSpendByMonth, 'Tom'),","                    dc.lineChart(compositeChart)","                    .colors('red')","                    .group(bobSpendByMonth, 'Bob'),","                    dc.lineChart(compositeChart)","                    .colors('blue')","                    .group(aliceSpendByMonth, 'Alice')","                ])","                .brushOn(false)","                .render();","","","            dc.renderAll(); // this must be called to rendor the charts ","        }","    </script>",""],"id":1}],[{"start":{"row":67,"column":3},"end":{"row":67,"column":13},"action":"remove","lines":[" </script>"],"id":2}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":12},"action":"remove","lines":["","    <script>"],"id":3}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":0,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1569952167200,"hash":"25143854dec05e6639c9beb292657f4b13befea5"}